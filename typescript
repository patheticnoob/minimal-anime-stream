// Add subtitle tracks
if (tracks && tracks.length > 0) {
  mediaInfo.tracks = tracks
    .filter((t: any) => t.kind === 'subtitles' || t.kind === 'captions' || !t.kind)
    .map((track: any, idx: number) => {
      const castTrack = new cast.media.Track(idx, cast.media.TrackType.TEXT);
      castTrack.trackContentId = track.file;
      castTrack.trackContentType = 'text/vtt';
      castTrack.subtype = cast.media.TextTrackType.SUBTITLES;
      castTrack.name = track.label;
      castTrack.language = track.label?.slice(0, 2)?.toLowerCase() || 'en';
      return castTrack;
    });
}